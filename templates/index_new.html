{% extends "base_desktop.html" %}

{% block title %}Arab Expo For Food - Desktop Experience{% endblock %}

{% block extra_head %}
<style>
/* Desktop-optimized styles */
.desktop-only {
    font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

@media (max-width: 768px) {
    /* Hide on mobile devices - device detector will handle routing */
    .desktop-only {
        display: none !important;
    }
}

.desktop-hero {
    background: linear-gradient(135deg, #1a237e 0%, #283593 25%, #3949ab 50%, #5e35b1 75%, #7b1fa2 100%);
    min-height: 100vh;
    display: flex;
    align-items: center;
    position: relative;
    overflow: hidden;
    color: white;
}

.desktop-hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('{{ url_for("static", filename="1.jpg") }}') center/cover;
    opacity: 0.15;
    z-index: 1;
}

.desktop-hero-content {
    position: relative;
    z-index: 2;
    text-align: center;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 40px;
}

.desktop-hero h1 {
    font-size: 4.5rem;
    font-weight: 800;
    margin-bottom: 30px;
    text-shadow: 0 4px 8px rgba(0,0,0,0.3);
    line-height: 1.1;
    background: linear-gradient(45deg, #fff, #e3f2fd);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.desktop-hero-subtitle {
    font-size: 1.8rem;
    margin-bottom: 40px;
    opacity: 0.95;
    font-weight: 300;
    line-height: 1.4;
}

.desktop-hero-description {
    font-size: 1.2rem;
    line-height: 1.8;
    margin-bottom: 50px;
    opacity: 0.9;
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
}

.desktop-hero-actions {
    display: flex;
    gap: 30px;
    justify-content: center;
    flex-wrap: wrap;
}

.desktop-btn {
    padding: 18px 45px;
    font-size: 1.3rem;
    border-radius: 60px;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.4s ease;
    display: inline-flex;
    align-items: center;
    gap: 12px;
    position: relative;
    overflow: hidden;
    border: none;
    cursor: pointer;
}

.desktop-btn-primary {
    background: rgba(255,255,255,0.2);
    border: 2px solid rgba(255,255,255,0.8);
    color: white;
    backdrop-filter: blur(15px);
}

.desktop-btn-primary:hover {
    background: rgba(255,255,255,0.3);
    transform: translateY(-3px);
    box-shadow: 0 10px 30px rgba(255,255,255,0.3);
}

.desktop-btn-secondary {
    background: white;
    color: #1a237e;
    border: 2px solid white;
}

.desktop-btn-secondary:hover {
    background: #f8f9fa;
    transform: translateY(-3px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

.desktop-stats {
    background: white;
    padding: 100px 0;
    position: relative;
}

.desktop-stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 50px;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 40px;
}

.desktop-stat-card {
    text-align: center;
    padding: 50px 30px;
    border-radius: 25px;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    box-shadow: 0 15px 40px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
    position: relative;
    overflow: hidden;
}

.desktop-stat-card:hover {
    transform: translateY(-10px);
}

.desktop-stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 5px;
    background: linear-gradient(90deg, #1a237e, #5e35b1, #7b1fa2);
}

.desktop-stat-number {
    font-size: 4rem;
    font-weight: 800;
    color: #1a237e;
    margin-bottom: 20px;
}

.desktop-stat-title {
    font-size: 1.5rem;
    color: #2c3e50;
    margin-bottom: 15px;
    font-weight: 600;
}

.desktop-stat-desc {
    color: #666;
    font-size: 1.1rem;
}

.desktop-video-section {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    padding: 120px 0;
}

.desktop-video-content {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 40px;
    text-align: center;
}

.desktop-video-title {
    font-size: 3.5rem;
    color: #1a237e;
    margin-bottom: 30px;
    font-weight: 700;
}

.desktop-video-subtitle {
    font-size: 1.4rem;
    color: #666;
    margin-bottom: 60px;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.6;
}

.desktop-video-player {
    position: relative;
    max-width: 900px;
    margin: 0 auto 50px auto;
    border-radius: 25px;
    overflow: hidden;
    box-shadow: 0 25px 70px rgba(0,0,0,0.2);
}

.desktop-video-placeholder {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    height: 500px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    position: relative;
}

.desktop-pavilions {
    background: white;
    padding: 120px 0;
}

.desktop-pavilions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 50px;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 40px;
}

.desktop-pavilion-card {
    border-radius: 25px;
    overflow: hidden;
    box-shadow: 0 15px 40px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    background: white;
}

.desktop-pavilion-card:hover {
    transform: translateY(-15px);
    box-shadow: 0 25px 60px rgba(0,0,0,0.15);
}

.desktop-pavilion-image {
    height: 300px;
    background-size: cover;
    background-position: center;
    position: relative;
}

.desktop-pavilion-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(transparent, rgba(0,0,0,0.8));
    color: white;
    padding: 30px;
}

.desktop-pavilion-content {
    padding: 40px;
}

.desktop-section-title {
    font-size: 3.5rem;
    color: #1a237e;
    text-align: center;
    margin-bottom: 30px;
    font-weight: 700;
}

.desktop-section-subtitle {
    font-size: 1.4rem;
    color: #666;
    text-align: center;
    margin-bottom: 80px;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.6;
}

.desktop-registration {
    background: linear-gradient(135deg, #1a237e 0%, #5e35b1 100%);
    padding: 120px 0;
    color: white;
    text-align: center;
}

.desktop-registration-content {
    max-width: 1000px;
    margin: 0 auto;
    padding: 0 40px;
}

.desktop-registration-title {
    font-size: 3.5rem;
    margin-bottom: 30px;
    font-weight: 700;
}

.desktop-registration-subtitle {
    font-size: 1.4rem;
    margin-bottom: 60px;
    opacity: 0.9;
    line-height: 1.6;
}

.desktop-registration-buttons {
    display: flex;
    gap: 40px;
    justify-content: center;
    flex-wrap: wrap;
}

/* Modal Styles */
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
    backdrop-filter: blur(5px);
}

.modal-content {
    background-color: white;
    margin: 5% auto;
    padding: 0;
    width: 90%;
    max-width: 500px;
    border-radius: 20px;
    box-shadow: 0 25px 60px rgba(0,0,0,0.3);
    position: relative;
    overflow: hidden;
}

.modal-header {
    padding: 30px;
    text-align: center;
    color: white;
}

.modal-form {
    padding: 40px;
}

.form-group {
    margin-bottom: 25px;
}

.form-label {
    display: block;
    margin-bottom: 8px;
    color: #2c3e50;
    font-weight: 600;
}

.form-input, .form-select {
    width: 100%;
    padding: 15px;
    border: 2px solid #e9ecef;
    border-radius: 10px;
    font-size: 1rem;
    transition: border-color 0.3s ease;
    box-sizing: border-box;
}

.form-input:focus, .form-select:focus {
    outline: none;
    border-color: #1a237e;
}

.form-actions {
    display: flex;
    gap: 15px;
}

.btn-cancel {
    flex: 1;
    padding: 15px;
    background: #6c757d;
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 1.1rem;
    cursor: pointer;
    transition: background 0.3s ease;
}

.btn-submit {
    flex: 2;
    padding: 15px;
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 1.1rem;
    cursor: pointer;
    transition: background 0.3s ease;
}
</style>
{% endblock %}

{% block content %}
<div class="desktop-only">
    <!-- Hero Section for Desktop -->
    <section class="desktop-hero">
        <div class="desktop-hero-content">
            <h1>Arab Expo For Food</h1>
            <p class="desktop-hero-subtitle">
                المعرض والمؤتمر الافتراضي الدولي لتكنولوجيا الأغذية والمشروبات
            </p>
            <div class="desktop-hero-description">
                منصة افتراضية لأعمال حقيقية • المعرض العربي للأغذية يجمع مجتمع الأغذية والمشروبات الدولي 
                لاستكشاف الفرص الجديدة في أسواق أفريقيا والشرق الأوسط والخليج العربي والبحر الأبيض المتوسط.
                عرض منتجاتهم وخدماتهم والتواصل مع الجماهير العالمية من خلال معرضنا الافتراضي المتطور.
            </div>
            <div class="desktop-hero-actions">
                <a href="#video" class="desktop-btn desktop-btn-primary">
                    <i class="fas fa-play-circle"></i>
                    شاهد الفيديو التعريفي
                </a>
                <a href="{{ url_for('main.exhibitors_list') }}" class="desktop-btn desktop-btn-secondary">
                    <i class="fas fa-store"></i>
                    استكشف العارضين
                </a>
            </div>
        </div>
    </section>

    <!-- Statistics Section -->
    {% if stats %}
    <section class="desktop-stats">
        <div class="desktop-stats-grid">
            <div class="desktop-stat-card">
                <div class="desktop-stat-number">{{ stats.total_exhibitors }}</div>
                <h3 class="desktop-stat-title">عارض مشارك</h3>
                <p class="desktop-stat-desc">شركات رائدة في مجال الأغذية والمشروبات</p>
            </div>
            <div class="desktop-stat-card">
                <div class="desktop-stat-number">{{ stats.total_products }}</div>
                <h3 class="desktop-stat-title">منتج معروض</h3>
                <p class="desktop-stat-desc">أحدث المنتجات والتقنيات الغذائية</p>
            </div>
            <div class="desktop-stat-card">
                <div class="desktop-stat-number">{{ stats.total_categories }}</div>
                <h3 class="desktop-stat-title">فئة متنوعة</h3>
                <p class="desktop-stat-desc">تشمل جميع أنواع الأغذية والمشروبات</p>
            </div>
        </div>
    </section>
    {% endif %}

    <!-- Video Section -->
    <section id="video" class="desktop-video-section">
        <div class="desktop-video-content">
            <h2 class="desktop-video-title">المعرض العربي للأغذية</h2>
            <p class="desktop-video-subtitle">
                شاهد كيف يمكن لمعرضنا الافتراضي أن يساعدك في الوصول إلى أسواق جديدة وتوسيع نطاق أعمالك
                في صناعة الأغذية والمشروبات عبر المنطقة العربية والعالم
            </p>
            
            <div class="desktop-video-player">
                <div class="desktop-video-placeholder">
                    <div style="text-align: center;">
                        <i class="fas fa-play-circle" style="font-size: 6rem; margin-bottom: 30px; opacity: 0.9;"></i>
                        <h3 style="font-size: 2rem; margin: 0 0 15px 0;">فيديو تعريفي عن المعرض</h3>
                        <p style="font-size: 1.2rem; margin: 0; opacity: 0.8;">اكتشف الفرص اللامحدودة في عالم الأغذية</p>
                    </div>
                </div>
            </div>
            
            <button class="desktop-btn desktop-btn-primary" style="background: #1a237e; border-color: #1a237e;">
                <i class="fas fa-download"></i>
                تحميل البروشور التفصيلي
            </button>
        </div>
    </section>

    <!-- Pavilions Section -->
    <section class="desktop-pavilions">
        <h2 class="desktop-section-title">أجنحة المعرض المتخصصة</h2>
        <p class="desktop-section-subtitle">
            استكشف الأجنحة المتنوعة التي تضم أفضل الشركات والمنتجات في صناعة الأغذية والمشروبات
        </p>
        
        <div class="desktop-pavilions-grid">
            <div class="desktop-pavilion-card">
                <div class="desktop-pavilion-image" style="background-image: url('{{ url_for('static', filename='2.jpg') }}');">
                    <div class="desktop-pavilion-overlay">
                        <h3 style="font-size: 1.8rem; margin-bottom: 10px;">جناح الأغذية الطازجة</h3>
                        <p style="opacity: 0.9;">منتجات طازجة عالية الجودة</p>
                    </div>
                </div>
                <div class="desktop-pavilion-content">
                    <h4 style="color: #1a237e; font-size: 1.3rem; margin-bottom: 15px;">الفواكه والخضروات</h4>
                    <p style="color: #666; line-height: 1.6;">
                        اكتشف أجود أنواع الفواكه والخضروات الطازجة من أفضل المزارع والموردين في المنطقة
                    </p>
                </div>
            </div>

            <div class="desktop-pavilion-card">
                <div class="desktop-pavilion-image" style="background-image: url('{{ url_for('static', filename='3.jpg') }}');">
                    <div class="desktop-pavilion-overlay">
                        <h3 style="font-size: 1.8rem; margin-bottom: 10px;">جناح الأغذية المصنعة</h3>
                        <p style="opacity: 0.9;">منتجات غذائية مبتكرة ومتطورة</p>
                    </div>
                </div>
                <div class="desktop-pavilion-content">
                    <h4 style="color: #1a237e; font-size: 1.3rem; margin-bottom: 15px;">الأطعمة المعلبة والمجمدة</h4>
                    <p style="color: #666; line-height: 1.6;">
                        منتجات غذائية عالية الجودة مع أحدث تقنيات الحفظ والتعبئة والتغليف
                    </p>
                </div>
            </div>

            <div class="desktop-pavilion-card">
                <div class="desktop-pavilion-image" style="background-image: url('{{ url_for('static', filename='4.jpg') }}');">
                    <div class="desktop-pavilion-overlay">
                        <h3 style="font-size: 1.8rem; margin-bottom: 10px;">جناح المشروبات</h3>
                        <p style="opacity: 0.9;">مشروبات متنوعة ومنعشة</p>
                    </div>
                </div>
                <div class="desktop-pavilion-content">
                    <h4 style="color: #1a237e; font-size: 1.3rem; margin-bottom: 15px;">العصائر والمشروبات الطبيعية</h4>
                    <p style="color: #666; line-height: 1.6;">
                        مجموعة واسعة من المشروبات الطبيعية والعصائر الطازجة والمشروبات الغازية
                    </p>
                </div>
            </div>

            <div class="desktop-pavilion-card">
                <div class="desktop-pavilion-image" style="background-image: url('{{ url_for('static', filename='5.jpg') }}');">
                    <div class="desktop-pavilion-overlay">
                        <h3 style="font-size: 1.8rem; margin-bottom: 10px;">جناح تكنولوجيا الأغذية</h3>
                        <p style="opacity: 0.9;">أحدث التقنيات والآلات</p>
                    </div>
                </div>
                <div class="desktop-pavilion-content">
                    <h4 style="color: #1a237e; font-size: 1.3rem; margin-bottom: 15px;">المعدات والتقنيات</h4>
                    <p style="color: #666; line-height: 1.6;">
                        أحدث المعدات وتقنيات الإنتاج والتصنيع في مجال الصناعات الغذائية
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Sponsors Section -->
    <section class="desktop-video-section">
        <div class="desktop-video-content">
            <h2 class="desktop-section-title" style="color: #1a237e;">الرعاة والشركاء</h2>
            <p class="desktop-section-subtitle">
                نفخر بشراكتنا مع أبرز الشركات والمؤسسات الرائدة في صناعة الأغذية والمشروبات
            </p>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 40px; margin-top: 60px;">
                <div style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <img src="{{ url_for('static', filename='6.jpg') }}" alt="Sponsor" style="width: 100%; height: 120px; object-fit: contain;">
                </div>
                <div style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <img src="{{ url_for('static', filename='7.jpg') }}" alt="Sponsor" style="width: 100%; height: 120px; object-fit: contain;">
                </div>
                <div style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <img src="{{ url_for('static', filename='8.jpg') }}" alt="Sponsor" style="width: 100%; height: 120px; object-fit: contain;">
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Products -->
    <section class="desktop-pavilions">
        <h2 class="desktop-section-title">المنتجات المميزة</h2>
        <p class="desktop-section-subtitle">
            تعرف على أحدث المنتجات والابتكارات في عالم الأغذية والمشروبات
        </p>
        
        <div style="text-align: center; margin-top: 50px;">
            <a href="{{ url_for('main.products_list') }}" class="desktop-btn desktop-btn-primary" style="background: #1a237e; border-color: #1a237e;">
                <i class="fas fa-shopping-cart"></i>
                استكشف جميع المنتجات
            </a>
        </div>
    </section>

    <!-- Target Countries -->
    <section class="desktop-video-section">
        <div class="desktop-video-content">
            <h2 class="desktop-section-title" style="color: #1a237e;">الدول المستهدفة</h2>
            <p class="desktop-section-subtitle">
                نستهدف أسواق متنوعة عبر منطقة الشرق الأوسط وشمال أفريقيا والخليج العربي
            </p>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-top: 60px;">
                <div style="background: white; padding: 40px 30px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); text-align: center;">
                    <i class="fas fa-globe-africa" style="font-size: 3rem; color: #1a237e; margin-bottom: 20px;"></i>
                    <h4 style="color: #2c3e50; margin-bottom: 15px;">دول شمال أفريقيا</h4>
                    <p style="color: #666;">مصر، المغرب، تونس، الجزائر، ليبيا</p>
                </div>
                <div style="background: white; padding: 40px 30px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); text-align: center;">
                    <i class="fas fa-mosque" style="font-size: 3rem; color: #1a237e; margin-bottom: 20px;"></i>
                    <h4 style="color: #2c3e50; margin-bottom: 15px;">دول الخليج العربي</h4>
                    <p style="color: #666;">السعودية، الإمارات، الكويت، قطر، البحرين، عمان</p>
                </div>
                <div style="background: white; padding: 40px 30px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); text-align: center;">
                    <i class="fas fa-mountain" style="font-size: 3rem; color: #1a237e; margin-bottom: 20px;"></i>
                    <h4 style="color: #2c3e50; margin-bottom: 15px;">دول الشام</h4>
                    <p style="color: #666;">سوريا، لبنان، الأردن، فلسطين</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Registration Section -->
    <section class="desktop-registration">
        <div class="desktop-registration-content">
            <h2 class="desktop-registration-title">انضم إلى المعرض الآن</h2>
            <p class="desktop-registration-subtitle">
                سجل الآن كعارض أو زائر واستفد من الفرص التجارية اللامحدودة في أكبر معرض افتراضي للأغذية في المنطقة
            </p>
            
            <div class="desktop-registration-buttons">
                <button onclick="openModal('exhibitorModal')" class="desktop-btn desktop-btn-secondary">
                    <i class="fas fa-store"></i>
                    تسجيل كعارض
                </button>
                <button onclick="openModal('visitorModal')" class="desktop-btn" style="background: rgba(255,255,255,0.2); border: 2px solid white; color: white;">
                    <i class="fas fa-user"></i>
                    تسجيل كزائر
                </button>
            </div>
        </div>
    </section>
</div>

<!-- Registration Modals -->
<div id="exhibitorModal" class="modal">
    <div class="modal-content">
        <div class="modal-header" style="background: linear-gradient(135deg, #1a237e 0%, #5e35b1 100%);">
            <h2 style="margin: 0 0 10px 0; font-size: 1.8rem;">تسجيل عارض جديد</h2>
            <p style="margin: 0; opacity: 0.9;">انضم إلى أكبر معرض افتراضي للأغذية في المنطقة</p>
        </div>
        
        <form id="exhibitorForm" class="modal-form">
            <div class="form-group">
                <label class="form-label">اسم الشركة</label>
                <input type="text" name="company_name" class="form-input" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">الاسم الكامل</label>
                <input type="text" name="full_name" class="form-input" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">البريد الإلكتروني</label>
                <input type="email" name="email" class="form-input" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">رقم الهاتف</label>
                <input type="tel" name="phone" class="form-input" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">الدولة</label>
                <input type="text" name="country" class="form-input" required>
            </div>
            
            <div class="form-actions">
                <button type="button" onclick="closeModal('exhibitorModal')" class="btn-cancel">إلغاء</button>
                <button type="submit" class="btn-submit" style="background: #1a237e;">تسجيل الآن</button>
            </div>
        </form>
    </div>
</div>

<div id="visitorModal" class="modal">
    <div class="modal-content">
        <div class="modal-header" style="background: linear-gradient(135deg, #388e3c 0%, #66bb6a 100%);">
            <h2 style="margin: 0 0 10px 0; font-size: 1.8rem;">تسجيل زائر جديد</h2>
            <p style="margin: 0; opacity: 0.9;">استكشف أحدث المنتجات والتقنيات في عالم الأغذية</p>
        </div>
        
        <form id="visitorForm" class="modal-form">
            <div class="form-group">
                <label class="form-label">الاسم الكامل</label>
                <input type="text" name="full_name" class="form-input" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">البريد الإلكتروني</label>
                <input type="email" name="email" class="form-input" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">رقم الهاتف</label>
                <input type="tel" name="phone" class="form-input" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">الدولة</label>
                <input type="text" name="country" class="form-input" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">مجال الاهتمام</label>
                <select name="interest" class="form-select" required>
                    <option value="">اختر مجال الاهتمام</option>
                    <option value="fresh_food">الأغذية الطازجة</option>
                    <option value="processed_food">الأغذية المصنعة</option>
                    <option value="beverages">المشروبات</option>
                    <option value="technology">تكنولوجيا الأغذية</option>
                    <option value="packaging">التعبئة والتغليف</option>
                    <option value="other">أخرى</option>
                </select>
            </div>
            
            <div class="form-actions">
                <button type="button" onclick="closeModal('visitorModal')" class="btn-cancel">إلغاء</button>
                <button type="submit" class="btn-submit" style="background: #388e3c;">تسجيل الآن</button>
            </div>
        </form>
    </div>
</div>

<script>
// Modal functions
function openModal(modalId) {
    document.getElementById(modalId).style.display = 'block';
    document.body.style.overflow = 'hidden';
}

function closeModal(modalId) {
    document.getElementById(modalId).style.display = 'none';
    document.body.style.overflow = 'auto';
}

// Smooth scrolling for anchor links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

// Form submissions
document.getElementById('exhibitorForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const formData = new FormData(this);
    
    fetch('/register/exhibitor', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            alert('تم تسجيلك بنجاح كعارض! سيتم التواصل معك قريباً.');
            closeModal('exhibitorModal');
            this.reset();
        } else {
            alert('خطأ: ' + (data.message || 'حدث خطأ أثناء التسجيل'));
        }
    })
    .catch(error => {
        alert('حدث خطأ أثناء التسجيل. يرجى المحاولة مرة أخرى.');
        console.error('Error:', error);
    });
});

document.getElementById('visitorForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const formData = new FormData(this);
    
    fetch('/register/visitor', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            alert('تم تسجيلك بنجاح كزائر! مرحباً بك في المعرض.');
            closeModal('visitorModal');
            this.reset();
        } else {
            alert('خطأ: ' + (data.message || 'حدث خطأ أثناء التسجيل'));
        }
    })
    .catch(error => {
        alert('حدث خطأ أثناء التسجيل. يرجى المحاولة مرة أخرى.');
        console.error('Error:', error);
    });
});

// Close modals when clicking outside
document.addEventListener('click', function(e) {
    if (e.target.classList.contains('modal')) {
        e.target.style.display = 'none';
        document.body.style.overflow = 'auto';
    }
});

// Escape key to close modals
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        const modals = document.querySelectorAll('.modal');
        modals.forEach(modal => {
            if (modal.style.display === 'block') {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });
    }
});

// Animation on scroll
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver(function(entries) {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
        }
    });
}, observerOptions);

// Apply animation to all sections
document.addEventListener('DOMContentLoaded', function() {
    const sections = document.querySelectorAll('section');
    sections.forEach(section => {
        section.style.opacity = '0';
        section.style.transform = 'translateY(30px)';
        section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(section);
    });
});
</script>

{% endblock %}
